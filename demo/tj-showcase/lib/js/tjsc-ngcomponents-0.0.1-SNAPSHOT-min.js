angular.module("tjsc.util",[]);angular.module("tjsc.widgets.bottomAlert",[]);angular.module("tjsc.widgets.cabecalho",[]);angular.module("tjsc.widgets.chosen",[]);angular.module("tjsc.widgets.datepicker",[]);angular.module("tjsc.widgets.dialog",[]);angular.module("tjsc.widgets.dropdown",[]);angular.module("tjsc.widgets.inputs",[]);angular.module("tjsc.widgets.loadingBar",[]);angular.module("tjsc.widgets.loadingBarInterceptor",[]);angular.module("template/cabecalho.html",[]);angular.module("tjsc.widgets.templates",["template/cabecalho.html"]);angular.module("tjsc.components",["tjsc.util","tjsc.widgets.templates","tjsc.widgets.bottomAlert","tjsc.widgets.chosen","tjsc.widgets.cabecalho","tjsc.widgets.datepicker","tjsc.widgets.dialog","tjsc.widgets.dropdown","tjsc.widgets.inputs","tjsc.widgets.loadingBar","tjsc.widgets.loadingBarInterceptor"]);angular.module("tjsc.fw3",["tjsc.components","ngRoute","ngSanitize","ngAnimate","ui.bootstrap","validation","validation.rule","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","ui.mask"]);angular.module("tjsc.util").directive("irPara",function(a){return function(d,c,b){var e;b.$observe("irPara",function(f){e=f});c.bind("click",function(){d.$apply(function(){a.path(e)})})}});"use strict";var services=angular.module("tjsc.widgets.bottomAlert");services.factory("bottomAlert",[function(){var a;return toastr.options={closeButton:!0,positionClass:"toast-bottom-right",timeOut:"3000"},a=function(c,b){return toastr[b](c)},{info:function(b){a(b,"info")},warning:function(b){a(b,"warning")},success:function(b){a(b,"success")},error:function(b){a(b,"error")}}}]);angular.module("tjsc.widgets.chosen").directive("chosen",function(){return{restrict:"A",require:"ngModel",scope:{chosenAdd:"=",chosenAddView:"=",chosenAddFunction:"&",chosenAddArgs:"&",maxSelect:"=",},link:function(d,c,b){d.list=b.chosen;d.element=c;d.$watchCollection("[list, element.context.length]",function(){c.trigger("liszt:updated");c.trigger("chosen:updated")});var a={};if(!angular.isUndefined(d.maxSelect)){a={max_selected_options:d.maxSelect,search_contains:true,no_results_text:"Sem resultados para",placeholder_text_single:"Selecione uma opção",placeholder_text_multiple:"Selecione as opções",add_show:d.chosenAdd,add_button:'<button class="chosen-add-button pure-button botao-verde"></button>',add_function:d.chosenAddFunction,add_args:d.chosenAddArgs,}}else{a={search_contains:true,no_results_text:"Sem resultados para",placeholder_text_single:"Selecione uma opção",placeholder_text_multiple:"Selecione as opções",add_show:d.chosenAdd,add_button:'<button class="chosen-add-button pure-button botao-verde"></button>',add_function:d.chosenAddFunction,add_args:d.chosenAddArgs,}}d.element.chosen(a);d.element.data("chosen").allow_single_deselect=true}}});angular.module("tjsc.widgets.datepicker").directive("tjDatepicker",function(a){return function(e,d,c,b){var f=a(c.ngModel);$(function(){d.attr("type","text");d.datepicker({inline:true,showOtherMonths:true,selectOtherMonths:true,showOn:"focus",buttonImage:"//template.tjsc.jus.br/fw3/0.0.1/img/calendar2.png",buttonImageOnly:false,showAnim:"slideDown",dateFormat:"dd/mm/yy",onSelect:function(h,g){e.$apply(function(i){f.assign(i,h)})}})})}});angular.module("tjsc.widgets.dropdown").directive("dropdown",["$http","dialog",function(b,a){return{template:function(d,c){if(c.tipo=="comarca"){return'<select chosen ng-model="ngModel" ng-options="c.nmcomarca for c in lista"></select>'}if(c.tipo=="pais"){return'<select chosen ng-model="ngModel" ng-options="p.nmpais for p in lista"></select>'}if(c.tipo=="uf"){return'<select chosen ng-model="ngModel" ng-options="e.cdestado as e.nmestado for e in lista"></select>'}if(c.tipo=="municipios"){return'<select chosen ng-model="ngModel" ng-options="m.cdmunicipio as m.nmmunicipio for m in lista"></select>'}return'<select chosen ng-model="ngModel" ng-options="c for c in lista"></select>'},restrict:"E",require:"ngModel",scope:{tipo:"=",ngModel:"=",filtro:"=filtro"},link:function(e,f,d){var c=function(){if(d.tipo=="comarca"){b.get("http://jboss-dev:8080/tjsc-core/rest/comarca").success(function(i,g,j,h){e.lista=i})}if(d.tipo=="pais"){b.get("http://jboss-dev:8080/tjsc-core/rest/pais").success(function(i,g,j,h){e.lista=i})}if(d.tipo=="uf"){if(e.filtro!=null){b.get("http://jboss-dev:8080/tjsc-core/rest/uf/"+e.filtro).success(function(i,g,j,h){e.lista=i})}else{e.lista=[]}}if(d.tipo=="municipios"){if(e.filtro&&e.filtro!=""){b.get("http://jboss-dev:8080/tjsc-core/rest/municipio/"+e.filtro).success(function(i,g,j,h){e.lista=i})}else{e.lista=[]}}};e.$watch("filtro",function(g){c()});c()}}}]);angular.module("tjsc.widgets.inputs").directive("cpf",function(){return{restrict:"A",replace:true,transclude:true,require:"ngModel",template:function(a,b){return'<input ng-transclude validator="cpf" ui-mask="999.999.999-99" />'}}}).directive("telefone",function(){return{restrict:"A",replace:true,transclude:true,template:function(a,b){return'<input ng-transclude validator="telefone" ui-mask="(99)9999-9999" />'}}}).directive("cnpj",function(){return{restrict:"A",replace:true,transclude:true,template:function(a,b){return'<input ng-transclude validator="cnpj" ui-mask="99.999.999/9999-99" />'}}}).directive("cep",function(){return{restrict:"A",replace:true,transclude:true,template:function(a,b){return'<input ng-transclude validator="cep" ui-mask="99999-999" />'}}}).directive("emailTjsc",function(){return{restrict:"A",replace:true,transclude:true,template:function(a,b){return'<input ng-transclude validator="email" placeholder="@"/>'}}}).directive("numeroProcesso",function(){return{restrict:"A",replace:true,transclude:true,template:function(a,b){return'<input ng-transclude ui-mask="9999999-99.9999.999.9999"/>'}}});(function(){angular.module("tjsc.widgets.loadingBarInterceptor",["tjsc.widgets.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(j,k,f,l,n,h){var g=0;var c=0;var e=h.latencyThreshold;var d;function i(){f.cancel(d);h.complete();c=0;g=0}function m(p){var o;var r=k.get("$http");var s=a.defaults;if((p.cache||s.cache)&&p.cache!==false&&(p.method==="GET"||p.method==="JSONP")){o=angular.isObject(p.cache)?p.cache:angular.isObject(s.cache)?s.cache:r}var q=o!==undefined?o.get(p.url)!==undefined:false;if(p.cached!==undefined&&q!==p.cached){return p.cached}p.cached=q;return q}return{request:function(o){if(!o.ignoreLoadingBar&&!m(o)){l.$broadcast("cfpLoadingBar:loading",{url:o.url});if(g===0){d=f(function(){h.start()},e)}g++;h.set(c/g)}return o},response:function(o){if(!o||!o.config){n.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50");return o}if(!o.config.ignoreLoadingBar&&!m(o.config)){c++;l.$broadcast("cfpLoadingBar:loaded",{url:o.config.url,result:o});if(c>=g){i()}else{h.set(c/g)}}return o},responseError:function(o){if(!o||!o.config){n.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50");return j.reject(o)}if(!o.config.ignoreLoadingBar&&!m(o.config)){c++;l.$broadcast("cfpLoadingBar:loaded",{url:o.config.url,result:o});if(c>=g){i()}else{h.set(c/g)}}return j.reject(o)}}}];a.interceptors.push(b)}]);angular.module("tjsc.widgets.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=true;this.includeBar=true;this.latencyThreshold=100;this.startSize=0.02;this.parentSelector="body";this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>';this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>';this.$get=["$injector","$document","$timeout","$rootScope",function(o,v,u,h){var p;var c=this.parentSelector,i=angular.element(this.loadingBarTemplate),d=i.find("div").eq(0),f=angular.element(this.spinnerTemplate);var q,r,a=false,m=0;var g=this.includeSpinner;var j=this.includeBar;var t=this.startSize;function s(){if(!p){p=o.get("$animate")}var w=v.find(c).eq(0);u.cancel(r);if(a){return}h.$broadcast("cfpLoadingBar:started");a=true;if(j){p.enter(i,w,angular.element(w[0].lastChild))}if(g){p.enter(f,w,angular.element(w[0].lastChild))}l(t)}function l(x){if(!a){return}var w=(x*100)+"%";d.css("width",w);m=x;u.cancel(q);q=u(function(){k()},250)}function k(){if(b()>=1){return}var w=0;var x=b();if(x>=0&&x<0.25){w=(Math.random()*(5-3+1)+3)/100}else{if(x>=0.25&&x<0.65){w=(Math.random()*3)/100}else{if(x>=0.65&&x<0.9){w=(Math.random()*2)/100}else{if(x>=0.9&&x<0.99){w=0.005}else{w=0}}}}var y=b()+w;l(y)}function b(){return m}function e(){m=0;a=false}function n(){if(!p){p=o.get("$animate")}h.$broadcast("cfpLoadingBar:completed");l(1);u.cancel(r);r=u(function(){var w=p.leave(i,e);if(w&&w.then){w.then(e)}p.leave(f)},500)}return{start:s,set:l,status:b,inc:k,complete:n,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})})();